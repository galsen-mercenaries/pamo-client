<div class="login-dialog-page">
    <div class="img-container">
        <img src="/assets/images/login_avatar.png" alt="login">
    </div>
    <form class="login-form" [formGroup]="form">
        <mat-form-field class="example-full-width" [appearance]="'outline'">
            <mat-label>Email</mat-label>
            <input matInput formControlName="login" type="text">
        </mat-form-field>
        <mat-form-field class="example-full-width" [appearance]="'outline'">
            <mat-label>Mot de passe</mat-label>
            <input matInput [type]="isPasswordVisible ? 'text': 'password'" formControlName="password">
            <mat-icon matSuffix (click)="swapInputType()" *ngIf="!isPasswordVisible">remove_red_eye</mat-icon>
            <span matSuffix (click)="swapInputType()" *ngIf="isPasswordVisible">cacher</span>
        </mat-form-field>
        <div class="error-message" *ngIf="loginHasError">{{errorMessage}}</div>
        <div class="button-container">
            <button [disabled]="!form.valid || loading" (click)="login()">
                Se connecter
                <mat-spinner *ngIf="loading" [diameter]="20" mode="indeterminate"></mat-spinner>
            </button>
        </div>
    </form>
</div>